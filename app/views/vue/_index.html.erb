<!-- component template -->
<script type="text/x-template" id="grid-template">
  <table class="table table-hover">
    <tr>
      <th v-repeat="key: columns"
        v-on="click:sortBy(key)"
        v-class="active: sortKey === key">
        <text v-html="key | wrap option"></text>
          <span v-if="key !== 'id'" class="glyphicon pull-right" v-class="reversed[key] ? 'glyphicon-chevron-down' : 'glyphicon-chevron-up'"></span>
      </th>
      </tr>
    </thead>
    <tbody>
      <tr class="{{option === 'infrastructure' ? 'infrastructure-row' : ''}}" v-repeat="
        entry: data
        | filterBy filterKey
        | orderBy sortKey reversed[sortKey]
        | paginate">
        <td v-repeat="key: columns">
          <text id="{{key}}" v-html="entry[key] | listen key option lang"></text>
        </td>
      </tr>
    </tbody>
  </table>
  <nav v-if="data.length >= 10">
    <ul class="pager">
      <li class="{{isStartPage ? 'disabled' : '' }}"><a v-on="click: showPrev()" ><span aria-hidden="true">&larr; <%= t 'monitoring.btn.prev' %></a></li>
        <label><%= t 'monitoring.msg.page' %>: &nbsp </label><strong v-html="pageNumber + 1"></strong> <%= t 'monitoring.msg.of' %>&nbsp<span v-html="data.length / pages  | roundup"></span>
      <li class="{{isEndPage ? 'disabled' : '' }}"><a v-on="click: showNext()" v-attr="disabled: !isEndPage"></span><%= t 'monitoring.btn.next' %> <span aria-hidden="true">&rarr;</a></li>
    </ul>
  </nav>
</script>

<!-- demo root element -->

<div id="indexElement">
  <div class="input-group">
    <form id="search">
      <input type="text" name="query" v-model="searchQuery" class="form-control" placeholder="<%= t 'infrastructures.search' %>">
    </form><hr>
  </div>
  <demo-grid
    data="{{gridData}}"
    columns="{{gridColumns}}"
    filter-key="{{searchQuery}}">
  </demo-grid>
</div>

<div id="empty" style="display: none;"></div>
<span id="loading"><div class="loader"></div> <%= t 'common.msg.loading' %></span>
<hr>
